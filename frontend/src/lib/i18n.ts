export type Locale = 'en' | 'de';

const dict: Record<Locale, Record<string, string>> = {
  en: {
    'app.title': 'Flipo5',
    'app.tagline': 'AI Chat · Image · Video',
    'nav.signup': 'Sign up',
    'nav.login': 'Start',
    'home.hero.title': 'AI Chat, Image & Video',
    'home.hero.tagline': 'One place for text, image and video generation.',
    'home.hero.sub': 'Create with AI: chat, generate images, or create short videos from a single prompt.',
    'home.cta': 'Get started',
    'home.services.title': 'Services',
    'home.services.chat.title': 'AI Chat',
    'home.services.chat.desc': 'Conversations and text generation',
    'home.services.image.title': 'Image',
    'home.services.image.desc': 'Generate images from your prompt',
    'home.services.video.title': 'Video',
    'home.services.video.desc': 'Short video clips from description',
    'home.stats.text': 'Chat',
    'home.stats.photo': 'Image',
    'home.stats.video': 'Video',
    'home.stats.ai': 'AI',
    'dashboard.prompt.placeholder': 'What do you want to create?',
    'dashboard.promo': 'Create with AI: chat, images, and short videos in one place. Explore Flipo5.',
    'mode.chat': 'Text',
    'mode.image': 'Photo',
    'mode.video': 'Video',
    'nav.home': 'Home',
    'nav.features': 'Features',
    'nav.new': 'New',
    'nav.incognito': 'Incognito (session not saved)',
    'incognito.media.title': 'Images and videos in Incognito',
    'incognito.media.message': 'In Incognito mode you cannot generate images or videos because the session is not saved. Do you want to start a normal session instead?',
    'incognito.media.confirm': 'Start normal session',
    'nav.incognitoActive': 'Incognito mode activated',
    'nav.dashboard': 'Dashboard',
    'nav.jobs': 'Jobs',
    'nav.sessions': 'Chat sessions',
    'nav.content': 'My Content',
    'nav.profile': 'Profile',
    'nav.settings': 'Settings',
    'nav.logout': 'Log out',
    'profile.title': 'Profile',
    'profile.language': 'Language',
    'settings.title': 'Settings',
    'settings.dataRetention': 'Data retention',
    'settings.dataRetentionDesc': 'Do you allow us to keep your data for improving the service?',
    'settings.dataRetentionAccept': 'Yes, keep my data',
    'settings.dataRetentionDecline': 'No, do not keep my data',
    'settings.aiConfig': 'AI configuration',
    'settings.aiConfigDesc': 'Customize how the AI responds. You can change this once every 24 hours.',
    'settings.aiStyle': 'Response style',
    'settings.aiStyleFriendly': 'Friendly',
    'settings.aiStyleDirect': 'Direct',
    'settings.aiStyleLogical': 'Logical',
    'settings.aiStyleBrief': 'Brief',
    'settings.aiStyleDetailed': 'Detailed',
    'settings.aiPrimaryLang': 'Primary AI language',
    'settings.aiPrimaryLangBrowser': 'Browser default',
    'settings.userDetails': 'About you (for AI)',
    'settings.userDetailsDesc': 'Optional details the AI will know (max 80 chars).',
    'settings.userDetailsPlaceholder': 'e.g. I work in marketing, prefer short answers...',
    'settings.uiLanguage': 'Interface language',
    'settings.save': 'Save',
    'settings.saved': 'Saved',
    'settings.cooldown': 'AI config can only be changed once per 24 hours.',
    'login.title': 'Sign in',
    'login.email': 'Email',
    'login.submit': 'Continue',
    'login.placeholder': 'you@example.com',
    'login.orSignup': 'Sign in or create an account',
    'login.checkEmail': 'Check your email',
    'login.another': 'Use another email',
    'start.title': 'Start',
    'start.subtitle': 'Sign up or sign in with your email',
    'start.checkEmail': 'Check your email',
    'start.confirmEmailTitle': "We've sent you a confirmation email",
    'start.confirmEmailBody': "Click the link in the email to activate your account. If you don't see it, check your spam folder.",
    'start.another': 'Use another email',
    'start.back': 'Back',
    'start.enterPassword': 'Enter your password',
    'start.emailNotExists': 'This email isn’t registered.',
    'start.createAccountQuestion': 'Do you want to create an account?',
    'start.createAccount': 'Create account',
    'start.create': 'Create',
    'start.cancel': 'Cancel',
    'start.password': 'Password',
    'start.passwordPlaceholder': 'Min. 6 characters',
    'start.confirmPassword': 'Confirm password',
    'start.fullName': 'Full name',
    'start.whereHeard': 'Where did you hear about us?',
    'start.useCase': 'What do you want to use Flipo5 for?',
    'start.choosePlan': 'Choose your plan',
    'start.planChangeLater': 'You can change this later.',
    'start.plan.free': 'Free',
    'start.plan.premium': 'Premium',
    'start.plan.creator': 'Creator',
    'start.plan.credits': '100 credits/day',
    'start.plan.perDay': 'credits/day',
    'start.plan.eur': '€',
    'chat.prompt': 'Message',
    'chat.send': 'Send',
    'chat.placeholder': 'Ask anything...',
    'image.prompt': 'Image prompt',
    'image.create': 'Generate image',
    'image.placeholder': 'Describe the image...',
    'video.prompt': 'Video prompt',
    'video.create': 'Generate video',
    'video.placeholder': 'Describe the video...',
    'video.duration': 'Duration',
    'video.aspectRatio': 'Aspect ratio',
    'video.resolution': 'Resolution',
    'video.imageInput': 'Image input',
    'video.videoInput': 'Video input',
    'video.videoInputDialog': 'Video input (for editing)',
    'video.videoInputDesc': 'Formats: mp4, mov, webm. Max 8.7 seconds.',
    'jobs.title': 'Recent jobs',
    'jobs.empty': 'No jobs yet.',
    'content.title': 'My Content',
    'content.empty': 'No images or videos yet.',
    'content.view': 'View',
    'content.searchPlaceholder': 'Search by prompt...',
    'content.all': 'All',
    'content.images': 'Images',
    'content.videos': 'Videos',
    'content.prev': 'Previous',
    'content.next': 'Next',
    'content.pageOf': 'Page {page} of {total}',
    'sessions.title': 'Chat sessions',
    'sessions.empty': 'No sessions yet. Start a chat from the dashboard.',
    'sessions.updated': 'Updated',
    'sessions.viewMore': 'View more',
    'sessions.untitled': 'Conversation',
    'thread.archive': 'Archive',
    'thread.archivedTitle': 'Conversation archived',
    'thread.archivedMessage': 'Archived conversations are in your profile.',
    'thread.myProfile': 'My profile',
    'thread.unarchive': 'Unarchive',
    'thread.delete': 'Delete',
    'thread.deleteConfirm': 'Delete this conversation? This cannot be undone.',
    'thread.deleteTitle': 'Delete conversation',
    'dialog.cancel': 'Cancel',
    'profile.archive': 'Archived conversations',
    'profile.archiveEmpty': 'No archived conversations.',
    'thread.readOnly': 'Archived — read only',
    'chat.analyzingAttachment': 'Analyzing attachment..',
    'jobs.status.pending': 'Pending',
    'jobs.status.running': 'Running',
    'jobs.status.completed': 'Completed',
    'jobs.status.failed': 'Failed',
    'jobs.type.chat': 'Chat',
    'jobs.type.image': 'Image',
    'jobs.type.video': 'Video',
    'error.generic': 'Something went wrong.',
    'error.rate': 'Too many requests.',
    'error.serverUnavailable': 'Server unavailable. Please try again.',
    'error.hasActiveJobs': 'Wait for generation to finish before archiving or deleting.',
    'error.passwordMismatch': 'Passwords do not match.',
    'dashboard.completeProfile': 'Complete your profile',
    'dashboard.completeProfileSub': 'A few details to get you started.',
    'dashboard.fillRequired': 'Please fill all required fields.',
    'common.loading': 'Loading...',
    'common.view': 'View',
    'jobs.view': 'View',
    'jobsInProgress.title': 'Jobs in progress',
    'jobsInProgress.imageReady': 'Your image is ready',
    'jobsInProgress.videoReady': 'Your video is ready',
    'jobsInProgress.ready': 'Flipo5',
    'jobsInProgress.viewInSession': 'View in session',
    'jobsInProgress.empty': 'No jobs in progress',
    'jobsInProgress.dismiss': 'Dismiss',
    'jobs.loading': 'Loading job...',
    'jobs.notFound': 'Job not found.',
    'jobs.waitingForResponse': 'Waiting for response…',
    'profile.section': 'Profile',
    'auth.signingIn': 'Signing you in...',
    'auth.redirecting': 'Redirecting...',
    'auth.syncError': 'Could not sync profile with server. Redirecting...',
    'common.failed': 'Failed',
    'start.placeholderFullName': 'John Doe',
    'start.placeholderWhereHeard': 'Search, friend, social...',
    'start.placeholderUseCase': 'Creative projects, work...',
    'chat.noResponse': 'No response text.',
    'image.creating': 'Image is being created',
    'image.resolution': 'Resolution',
    'image.aspectRatio': 'Aspect ratio',
    'image.numImages': 'Number of images',
    'image.aspect1:1': '1:1',
    'image.aspect16:9': '16:9',
    'image.aspect9:16': '9:16',
    'image.aspect4:3': '4:3',
    'image.aspect3:4': '3:4',
    'image.aspectMatch': 'Match input',
    'image.view': 'View',
    'image.useAsReference': 'Use as reference',
    'image.save': 'Save',
    'image.share': 'Share',
    'common.chars': 'chars',
    'common.none': '—',
    'common.saving': 'Saving…',
    'settings.langEn': 'English',
    'settings.langDe': 'Deutsch',
  },
  de: {
    'app.title': 'Flipo5',
    'app.tagline': 'KI-Chat · Bild · Video',
    'nav.signup': 'Registrieren',
    'nav.login': 'Start',
    'home.hero.title': 'KI-Chat, Bild & Video',
    'home.hero.tagline': 'Alles für Text-, Bild- und Videoerstellung.',
    'home.hero.sub': 'Mit KI erstellen: Chat, Bilder oder kurze Videos aus einer Beschreibung.',
    'home.cta': 'Loslegen',
    'home.services.title': 'Leistungen',
    'home.services.chat.title': 'KI-Chat',
    'home.services.chat.desc': 'Gespräche und Texterstellung',
    'home.services.image.title': 'Bild',
    'home.services.image.desc': 'Bilder aus deiner Beschreibung',
    'home.services.video.title': 'Video',
    'home.services.video.desc': 'Kurze Videoclips aus Beschreibung',
    'home.stats.text': 'Chat',
    'home.stats.photo': 'Bild',
    'home.stats.video': 'Video',
    'home.stats.ai': 'KI',
    'dashboard.prompt.placeholder': 'Was möchtest du erstellen?',
    'dashboard.promo': 'Mit KI erstellen: Chat, Bilder und kurze Videos an einem Ort. Entdecke Flipo5.',
    'mode.chat': 'Text',
    'mode.image': 'Foto',
    'mode.video': 'Video',
    'nav.home': 'Start',
    'nav.features': 'Funktionen',
    'nav.new': 'Neu',
    'nav.incognito': 'Inkognito (Sitzung wird nicht gespeichert)',
    'incognito.media.title': 'Bilder und Videos im Inkognito-Modus',
    'incognito.media.message': 'Im Inkognito-Modus kannst du keine Bilder oder Videos erstellen, da die Sitzung nicht gespeichert wird. Möchtest du stattdessen eine normale Sitzung starten?',
    'incognito.media.confirm': 'Normale Sitzung starten',
    'nav.incognitoActive': 'Inkognito-Modus aktiviert',
    'nav.dashboard': 'Dashboard',
    'nav.jobs': 'Aufträge',
    'nav.sessions': 'Chat-Sitzungen',
    'nav.content': 'Mein Content',
    'nav.profile': 'Profil',
    'nav.settings': 'Einstellungen',
    'nav.logout': 'Abmelden',
    'profile.title': 'Profil',
    'profile.language': 'Sprache',
    'settings.title': 'Einstellungen',
    'settings.dataRetention': 'Datenspeicherung',
    'settings.dataRetentionDesc': 'Erlaubst du uns, deine Daten zur Verbesserung des Dienstes zu speichern?',
    'settings.dataRetentionAccept': 'Ja, Daten speichern',
    'settings.dataRetentionDecline': 'Nein, meine Daten nicht speichern',
    'settings.aiConfig': 'KI-Konfiguration',
    'settings.aiConfigDesc': 'Passe an, wie die KI antwortet. Änderbar alle 24 Stunden.',
    'settings.aiStyle': 'Antwortstil',
    'settings.aiStyleFriendly': 'Freundlich',
    'settings.aiStyleDirect': 'Direkt',
    'settings.aiStyleLogical': 'Logisch',
    'settings.aiStyleBrief': 'Kurz',
    'settings.aiStyleDetailed': 'Ausführlich',
    'settings.aiPrimaryLang': 'Primäre KI-Sprache',
    'settings.aiPrimaryLangBrowser': 'Browser-Standard',
    'settings.userDetails': 'Über dich (für KI)',
    'settings.userDetailsDesc': 'Optionale Angaben, die die KI kennt (max. 80 Zeichen).',
    'settings.userDetailsPlaceholder': 'z.B. Ich arbeite im Marketing, bevorzuge kurze Antworten...',
    'settings.uiLanguage': 'Oberflächensprache',
    'settings.save': 'Speichern',
    'settings.saved': 'Gespeichert',
    'settings.cooldown': 'KI-Konfiguration kann nur alle 24 Stunden geändert werden.',
    'login.title': 'Anmelden',
    'login.email': 'E-Mail',
    'login.submit': 'Weiter',
    'login.placeholder': 'du@beispiel.de',
    'login.orSignup': 'Anmelden oder Konto anlegen',
    'login.checkEmail': 'E-Mail prüfen',
    'login.another': 'Andere E-Mail verwenden',
    'start.title': 'Start',
    'start.subtitle': 'Registrieren oder anmelden mit deiner E-Mail',
    'start.checkEmail': 'E-Mail prüfen',
    'start.confirmEmailTitle': 'Wir haben dir eine Bestätigungs-E-Mail geschickt',
    'start.confirmEmailBody': 'Klicke auf den Link in der E-Mail, um dein Konto zu aktivieren. Sieh auch im Spam-Ordner nach.',
    'start.another': 'Andere E-Mail verwenden',
    'start.back': 'Zurück',
    'start.enterPassword': 'Passwort eingeben',
    'start.emailNotExists': 'Diese E-Mail ist nicht registriert.',
    'start.createAccountQuestion': 'Möchtest du ein Konto anlegen?',
    'start.createAccount': 'Konto anlegen',
    'start.create': 'Anlegen',
    'start.cancel': 'Abbrechen',
    'start.password': 'Passwort',
    'start.passwordPlaceholder': 'Min. 6 Zeichen',
    'start.confirmPassword': 'Passwort bestätigen',
    'start.fullName': 'Vollständiger Name',
    'start.whereHeard': 'Wo hast du von uns erfahren?',
    'start.useCase': 'Wofür möchtest du Flipo5 nutzen?',
    'start.choosePlan': 'Wähle deinen Plan',
    'start.planChangeLater': 'Du kannst das später ändern.',
    'start.plan.free': 'Free',
    'start.plan.premium': 'Premium',
    'start.plan.creator': 'Creator',
    'start.plan.credits': '100 Credits/Tag',
    'start.plan.perDay': 'Credits/Tag',
    'start.plan.eur': '€',
    'chat.prompt': 'Nachricht',
    'chat.send': 'Senden',
    'chat.placeholder': 'Frag etwas...',
    'image.prompt': 'Bildbeschreibung',
    'image.create': 'Bild erzeugen',
    'image.placeholder': 'Beschreibe das Bild...',
    'video.prompt': 'Videobeschreibung',
    'video.create': 'Video erzeugen',
    'video.placeholder': 'Beschreibe das Video...',
    'video.duration': 'Dauer',
    'video.aspectRatio': 'Seitenverhältnis',
    'video.resolution': 'Auflösung',
    'video.imageInput': 'Bildeingabe',
    'video.videoInput': 'Videoeingabe',
    'video.videoInputDialog': 'Videoeingabe (zum Bearbeiten)',
    'video.videoInputDesc': 'Formate: mp4, mov, webm. Max. 8,7 Sekunden.',
    'jobs.title': 'Letzte Aufträge',
    'jobs.empty': 'Noch keine Aufträge.',
    'content.title': 'Mein Content',
    'content.empty': 'Noch keine Bilder oder Videos.',
    'content.view': 'Ansehen',
    'content.searchPlaceholder': 'Nach Prompt suchen...',
    'content.all': 'Alle',
    'content.images': 'Bilder',
    'content.videos': 'Videos',
    'content.prev': 'Zurück',
    'content.next': 'Weiter',
    'content.pageOf': 'Seite {page} von {total}',
    'sessions.title': 'Chat-Sitzungen',
    'sessions.empty': 'Noch keine Sitzungen. Starte einen Chat im Dashboard.',
    'sessions.updated': 'Aktualisiert',
    'sessions.viewMore': 'Alle anzeigen',
    'sessions.untitled': 'Unterhaltung',
    'thread.archive': 'Archivieren',
    'thread.archivedTitle': 'Unterhaltung archiviert',
    'thread.archivedMessage': 'Archivierte Unterhaltungen findest du in deinem Profil.',
    'thread.myProfile': 'Mein Profil',
    'thread.unarchive': 'Wiederherstellen',
    'thread.delete': 'Löschen',
    'thread.deleteConfirm': 'Diese Unterhaltung löschen? Dies kann nicht rückgängig gemacht werden.',
    'thread.deleteTitle': 'Unterhaltung löschen',
    'dialog.cancel': 'Abbrechen',
    'profile.archive': 'Archivierte Unterhaltungen',
    'profile.archiveEmpty': 'Keine archivierten Unterhaltungen.',
    'thread.readOnly': 'Archiviert — nur lesen',
    'chat.analyzingAttachment': 'Anhang wird analysiert..',
    'jobs.status.pending': 'Ausstehend',
    'jobs.status.running': 'Läuft',
    'jobs.status.completed': 'Fertig',
    'jobs.status.failed': 'Fehlgeschlagen',
    'jobs.type.chat': 'Chat',
    'jobs.type.image': 'Bild',
    'jobs.type.video': 'Video',
    'error.generic': 'Etwas ist schiefgelaufen.',
    'error.rate': 'Zu viele Anfragen.',
    'error.serverUnavailable': 'Server nicht verfügbar. Bitte erneut versuchen.',
    'error.hasActiveJobs': 'Warte auf den Abschluss der Generierung, bevor du archivierst oder löschst.',
    'error.passwordMismatch': 'Passwörter stimmen nicht überein.',
    'dashboard.completeProfile': 'Profil vervollständigen',
    'dashboard.completeProfileSub': 'Ein paar Angaben für den Start.',
    'dashboard.fillRequired': 'Bitte alle Pflichtfelder ausfüllen.',
    'common.loading': 'Laden...',
    'common.view': 'Ansehen',
    'jobs.view': 'Ansehen',
    'jobsInProgress.title': 'Aufträge in Bearbeitung',
    'jobsInProgress.imageReady': 'Dein Bild ist fertig',
    'jobsInProgress.videoReady': 'Dein Video ist fertig',
    'jobsInProgress.ready': 'Flipo5',
    'jobsInProgress.viewInSession': 'In Sitzung anzeigen',
    'jobsInProgress.empty': 'Keine Aufträge in Bearbeitung',
    'jobsInProgress.dismiss': 'Schließen',
    'jobs.loading': 'Auftrag wird geladen...',
    'jobs.notFound': 'Auftrag nicht gefunden.',
    'jobs.waitingForResponse': 'Warte auf Antwort…',
    'profile.section': 'Profil',
    'auth.signingIn': 'Du wirst angemeldet...',
    'auth.redirecting': 'Weiterleitung...',
    'auth.syncError': 'Profil konnte nicht mit dem Server synchronisiert werden. Weiterleitung...',
    'common.failed': 'Fehlgeschlagen',
    'start.placeholderFullName': 'Max Mustermann',
    'start.placeholderWhereHeard': 'Suche, Freund, soziale Medien...',
    'start.placeholderUseCase': 'Kreative Projekte, Arbeit...',
    'chat.noResponse': 'Kein Antworttext.',
    'image.creating': 'Bild wird erstellt',
    'image.resolution': 'Auflösung',
    'image.aspectRatio': 'Seitenverhältnis',
    'image.numImages': 'Anzahl Bilder',
    'image.aspect1:1': '1:1',
    'image.aspect16:9': '16:9',
    'image.aspect9:16': '9:16',
    'image.aspect4:3': '4:3',
    'image.aspect3:4': '3:4',
    'image.aspectMatch': 'Wie Eingabe',
    'image.view': 'Ansehen',
    'image.useAsReference': 'Als Referenz verwenden',
    'image.save': 'Speichern',
    'image.share': 'Weitergeben',
    'common.chars': 'Zeichen',
    'common.none': '—',
    'common.saving': 'Speichern…',
    'settings.langEn': 'English',
    'settings.langDe': 'Deutsch',
  },
};

export function t(locale: Locale, key: string): string {
  return dict[locale]?.[key] ?? dict.en[key] ?? key;
}

export const defaultLocale: Locale = 'en';

/** Backend timeout message – show translated */
export const ERR_SERVER_UNAVAILABLE = 'Server unavailable. Please try again.';

export function jobErrorDisplay(error: string | null | undefined, locale: Locale): string {
  if (!error) return t(locale, 'common.failed');
  return error === ERR_SERVER_UNAVAILABLE ? t(locale, 'error.serverUnavailable') : error;
}
